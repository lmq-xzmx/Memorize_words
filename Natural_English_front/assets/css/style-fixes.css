/**
 * 样式修复文件
 * 解决项目中的样式冲突和位置问题
 */

/* 重置问题元素的样式 */
.style-reset {
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  z-index: auto !important;
  transform: none !important;
}

/* 修复按钮样式失效问题 */
[data-xpath="//*[@id='app']/div[2]/div/div[3]"],
[data-xpath="//*[@id='app']/div[2]/div/div[2]/div[1]"],
[data-xpath="//*[@id='app']/div[3]/div/div[1]/div[1]"] {
  position: static !important;
  z-index: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
}

/* 防止高z-index元素遮挡 */
*:not(.nav-bar):not(.modal):not(.dropdown):not(.tooltip):not(.popup):not(.menu-overlay) {
  z-index: auto !important;
}

/* 保留必要的导航元素定位 */
.top-nav,
.bottom-nav,
.nav-bar,
.navigation {
  position: fixed !important;
  z-index: 1000 !important;
}

/* 保留模态框和弹出层的定位 */
.modal,
.modal-overlay,
.popup,
.dropdown,
.tooltip {
  position: fixed !important;
  z-index: 9999 !important;
}

/* 修复固定定位元素的问题 */
.position-fix {
  position: static !important;
}

/* 清除问题类名 */
.pinned,
.sticky,
.fixed-top,
.position-fixed:not(.nav-bar):not(.modal),
.position-sticky:not(.nav-bar),
.position-absolute:not(.dropdown):not(.tooltip) {
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
}

/* 修复transform相关问题 */
.transform-reset {
  transform: none !important;
  -webkit-transform: none !important;
  -moz-transform: none !important;
  -ms-transform: none !important;
}

/* 确保按钮可点击 */
button,
.btn,
[role="button"] {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 1 !important;
}

/* 修复内联样式冲突 */
[style*="position: fixed"]:not(.nav-bar):not(.modal):not(.popup),
[style*="position: absolute"]:not(.dropdown):not(.tooltip),
[style*="z-index: 9999"]:not(.modal):not(.popup),
[style*="z-index: 1000"]:not(.nav-bar) {
  position: static !important;
  z-index: auto !important;
}

/* 确保文本可选择 */
.text-selectable {
  user-select: text !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

/* 修复布局问题 */
.layout-fix {
  display: block !important;
  width: auto !important;
  height: auto !important;
  overflow: visible !important;
}

/* 响应式修复 */
@media (max-width: 768px) {
  .mobile-fix {
    position: static !important;
    width: 100% !important;
    left: 0 !important;
    right: 0 !important;
  }
}

/* 调试辅助类 */
.debug-outline {
  outline: 2px solid red !important;
}

.debug-background {
  background-color: rgba(255, 0, 0, 0.1) !important;
}

/* 清除浮动 */
.clearfix::after {
  content: "";
  display: table;
  clear: both;
}

/* 确保可见性 */
.visibility-fix {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* 修复flex布局问题 */
.flex-fix {
  display: flex !important;
  flex-direction: column !important;
  align-items: stretch !important;
}

/* 修复grid布局问题 */
.grid-fix {
  display: grid !important;
  grid-template-columns: 1fr !important;
}

/* 动画禁用（用于调试） */
.no-animation * {
  animation-duration: 0s !important;
  animation-delay: 0s !important;
  transition-duration: 0s !important;
  transition-delay: 0s !important;
}

/* 滚动修复 */
.scroll-fix {
  overflow: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

/* 字体修复 */
.font-fix {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
}

/* 颜色对比度修复 */
.contrast-fix {
  color: #333 !important;
  background-color: #fff !important;
}

/* 边距重置 */
.margin-reset {
  margin: 0 !important;
}

.padding-reset {
  padding: 0 !important;
}

/* 边框重置 */
.border-reset {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* 确保元素在正确的层级 */
.layer-base {
  z-index: 1 !important;
}

.layer-content {
  z-index: 10 !important;
}

.layer-overlay {
  z-index: 100 !important;
}

.layer-modal {
  z-index: 1000 !important;
}

.layer-tooltip {
  z-index: 10000 !important;
}

/* 修复特定XPath元素 */
[data-xpath-fix="app-div2-div-div3"] {
  position: static !important;
  z-index: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
}

/* 全局样式冲突预防 */
body {
  position: relative !important;
}

#app {
  position: relative !important;
  z-index: 0 !important;
}

/* 确保主要内容区域正常显示 */
.main-content,
.content-area,
.page-content {
  position: relative !important;
  z-index: 1 !important;
}